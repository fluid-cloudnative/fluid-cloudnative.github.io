<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>FAQ | Fluid</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/fluid/fluid-stacked-color.svg">
    <meta name="description" content="Fluid, elastic data abstraction and acceleration for BigData/AI applications in cloud.">
    
    <link rel="preload" href="/fluid/assets/css/0.styles.29bd8075.css" as="style"><link rel="preload" href="/fluid/assets/js/app.ce7ba76a.js" as="script"><link rel="preload" href="/fluid/assets/js/2.931ec2de.js" as="script"><link rel="preload" href="/fluid/assets/js/30.f29090e5.js" as="script"><link rel="prefetch" href="/fluid/assets/js/10.a7a7f143.js"><link rel="prefetch" href="/fluid/assets/js/11.1b4f7b93.js"><link rel="prefetch" href="/fluid/assets/js/12.02744490.js"><link rel="prefetch" href="/fluid/assets/js/13.980d2d9a.js"><link rel="prefetch" href="/fluid/assets/js/14.bdf00a75.js"><link rel="prefetch" href="/fluid/assets/js/15.60a1a2c4.js"><link rel="prefetch" href="/fluid/assets/js/16.a26f5dac.js"><link rel="prefetch" href="/fluid/assets/js/17.0b51d4d3.js"><link rel="prefetch" href="/fluid/assets/js/18.99d63313.js"><link rel="prefetch" href="/fluid/assets/js/19.daa2a024.js"><link rel="prefetch" href="/fluid/assets/js/20.e177defe.js"><link rel="prefetch" href="/fluid/assets/js/21.59d9098e.js"><link rel="prefetch" href="/fluid/assets/js/22.7fa36bb7.js"><link rel="prefetch" href="/fluid/assets/js/23.982e23bf.js"><link rel="prefetch" href="/fluid/assets/js/24.b7a80e0a.js"><link rel="prefetch" href="/fluid/assets/js/25.bf1beed1.js"><link rel="prefetch" href="/fluid/assets/js/26.b99f2f89.js"><link rel="prefetch" href="/fluid/assets/js/27.52bc0008.js"><link rel="prefetch" href="/fluid/assets/js/28.7dd7286f.js"><link rel="prefetch" href="/fluid/assets/js/29.77159cd6.js"><link rel="prefetch" href="/fluid/assets/js/3.14497788.js"><link rel="prefetch" href="/fluid/assets/js/31.c2f100ee.js"><link rel="prefetch" href="/fluid/assets/js/32.92cdba5a.js"><link rel="prefetch" href="/fluid/assets/js/33.87f2909b.js"><link rel="prefetch" href="/fluid/assets/js/34.71d13ee4.js"><link rel="prefetch" href="/fluid/assets/js/35.c35a0c5d.js"><link rel="prefetch" href="/fluid/assets/js/36.225fe6ea.js"><link rel="prefetch" href="/fluid/assets/js/37.d344b594.js"><link rel="prefetch" href="/fluid/assets/js/38.71b44971.js"><link rel="prefetch" href="/fluid/assets/js/39.c3f4b65c.js"><link rel="prefetch" href="/fluid/assets/js/4.fe9f3990.js"><link rel="prefetch" href="/fluid/assets/js/40.25d7f70e.js"><link rel="prefetch" href="/fluid/assets/js/41.2814782e.js"><link rel="prefetch" href="/fluid/assets/js/42.5a0be010.js"><link rel="prefetch" href="/fluid/assets/js/43.a6da7f7f.js"><link rel="prefetch" href="/fluid/assets/js/44.c1f0d802.js"><link rel="prefetch" href="/fluid/assets/js/45.32c04bd0.js"><link rel="prefetch" href="/fluid/assets/js/46.2caec94f.js"><link rel="prefetch" href="/fluid/assets/js/47.1db3d743.js"><link rel="prefetch" href="/fluid/assets/js/48.24413e2b.js"><link rel="prefetch" href="/fluid/assets/js/49.02831f2f.js"><link rel="prefetch" href="/fluid/assets/js/5.b50b7c5b.js"><link rel="prefetch" href="/fluid/assets/js/50.7b47fb1f.js"><link rel="prefetch" href="/fluid/assets/js/51.60003f28.js"><link rel="prefetch" href="/fluid/assets/js/52.d14067d1.js"><link rel="prefetch" href="/fluid/assets/js/53.e19696e3.js"><link rel="prefetch" href="/fluid/assets/js/54.ac98eef3.js"><link rel="prefetch" href="/fluid/assets/js/55.91f60523.js"><link rel="prefetch" href="/fluid/assets/js/56.4ba774cf.js"><link rel="prefetch" href="/fluid/assets/js/57.97d39609.js"><link rel="prefetch" href="/fluid/assets/js/58.451564be.js"><link rel="prefetch" href="/fluid/assets/js/59.c39b469e.js"><link rel="prefetch" href="/fluid/assets/js/6.c1eeb950.js"><link rel="prefetch" href="/fluid/assets/js/60.3e9e4baf.js"><link rel="prefetch" href="/fluid/assets/js/61.a3bfb13b.js"><link rel="prefetch" href="/fluid/assets/js/62.2ad4b141.js"><link rel="prefetch" href="/fluid/assets/js/63.ea2e8951.js"><link rel="prefetch" href="/fluid/assets/js/64.1de362fc.js"><link rel="prefetch" href="/fluid/assets/js/65.1c38b20d.js"><link rel="prefetch" href="/fluid/assets/js/66.56c51d67.js"><link rel="prefetch" href="/fluid/assets/js/67.0110b9f2.js"><link rel="prefetch" href="/fluid/assets/js/68.e2942832.js"><link rel="prefetch" href="/fluid/assets/js/69.169f9b66.js"><link rel="prefetch" href="/fluid/assets/js/7.17ef356c.js"><link rel="prefetch" href="/fluid/assets/js/70.ea17a057.js"><link rel="prefetch" href="/fluid/assets/js/71.886af9cd.js"><link rel="prefetch" href="/fluid/assets/js/72.ea615c40.js"><link rel="prefetch" href="/fluid/assets/js/73.a0a53af9.js"><link rel="prefetch" href="/fluid/assets/js/74.5d0c24f0.js"><link rel="prefetch" href="/fluid/assets/js/75.8c3ee9b9.js"><link rel="prefetch" href="/fluid/assets/js/76.081fbe2d.js"><link rel="prefetch" href="/fluid/assets/js/77.0bc0287f.js"><link rel="prefetch" href="/fluid/assets/js/78.af5842c1.js"><link rel="prefetch" href="/fluid/assets/js/79.09617cdb.js"><link rel="prefetch" href="/fluid/assets/js/8.8d58fc92.js"><link rel="prefetch" href="/fluid/assets/js/80.3b17fb0e.js"><link rel="prefetch" href="/fluid/assets/js/81.1a58d2f6.js"><link rel="prefetch" href="/fluid/assets/js/82.604dce1f.js"><link rel="prefetch" href="/fluid/assets/js/83.5d6e932c.js"><link rel="prefetch" href="/fluid/assets/js/84.1f48cbfe.js"><link rel="prefetch" href="/fluid/assets/js/85.de55feec.js"><link rel="prefetch" href="/fluid/assets/js/86.71d898e3.js"><link rel="prefetch" href="/fluid/assets/js/87.f1b15d5a.js"><link rel="prefetch" href="/fluid/assets/js/88.88f66ba6.js"><link rel="prefetch" href="/fluid/assets/js/89.a1cf0750.js"><link rel="prefetch" href="/fluid/assets/js/9.f94cd79a.js"><link rel="prefetch" href="/fluid/assets/js/90.18ce4d94.js"><link rel="prefetch" href="/fluid/assets/js/91.edfffb17.js">
    <link rel="stylesheet" href="/fluid/assets/css/0.styles.29bd8075.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fluid/" class="home-link router-link-active"><img src="/fluid/fluid-horizontal-color.png" alt="Fluid" class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Docs" class="dropdown-title"><span class="title">Docs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Docs" class="mobile-dropdown-title"><span class="title">Docs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fluid/guide/" class="nav-link router-link-active">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/fluid/dev/" class="nav-link">
  Dev
</a></li><li class="dropdown-item"><!----> <a href="/fluid/samples/" class="nav-link">
  Samples
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow down"></span></button> <button type="button" aria-label="Community" class="mobile-dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fluid/community/community.html" class="nav-link">
  Community
</a></li><li class="dropdown-item"><!----> <a href="/fluid/community/ADOPTERS.html" class="nav-link">
  Adopters
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="Blog" class="mobile-dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fluid/blog/technology/" class="nav-link">
  Technology
</a></li><li class="dropdown-item"><!----> <a href="/fluid/blog/releases/" class="nav-link">
  Releases
</a></li><li class="dropdown-item"><!----> <a href="/fluid/blog/casestudy/" class="nav-link">
  Case Study
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fluid/guide/faq.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/fluid/zh/guide/faq.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/fluid-cloudnative/fluid" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Docs" class="dropdown-title"><span class="title">Docs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Docs" class="mobile-dropdown-title"><span class="title">Docs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fluid/guide/" class="nav-link router-link-active">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/fluid/dev/" class="nav-link">
  Dev
</a></li><li class="dropdown-item"><!----> <a href="/fluid/samples/" class="nav-link">
  Samples
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow down"></span></button> <button type="button" aria-label="Community" class="mobile-dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fluid/community/community.html" class="nav-link">
  Community
</a></li><li class="dropdown-item"><!----> <a href="/fluid/community/ADOPTERS.html" class="nav-link">
  Adopters
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="Blog" class="mobile-dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fluid/blog/technology/" class="nav-link">
  Technology
</a></li><li class="dropdown-item"><!----> <a href="/fluid/blog/releases/" class="nav-link">
  Releases
</a></li><li class="dropdown-item"><!----> <a href="/fluid/blog/casestudy/" class="nav-link">
  Case Study
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fluid/guide/faq.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/fluid/zh/guide/faq.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/fluid-cloudnative/fluid" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/fluid/guide/" aria-current="page" class="sidebar-link">Fluid Overview</a></li><li><a href="/fluid/guide/get_started.html" class="sidebar-link">Get Started With Fluid</a></li><li><a href="/fluid/guide/install.html" class="sidebar-link">Deploy Fluid on Your Kubernetes Cluster</a></li><li><a href="/fluid/guide/troubleshooting.html" class="sidebar-link">Troubleshooting</a></li><li><a href="/fluid/guide/faq.html" aria-current="page" class="active sidebar-link">FAQ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fluid/guide/faq.html#_1-why-do-i-fail-to-install-fluid-with-helm" class="sidebar-link">1. Why do I fail to install fluid with Helm？</a></li><li class="sidebar-sub-header"><a href="/fluid/guide/faq.html#_2-why-can-t-i-delete-runtime" class="sidebar-link">2. Why can't I delete Runtime？</a></li><li class="sidebar-sub-header"><a href="/fluid/guide/faq.html#_3-why-do-i-run-the-example-speed-up-accessing-remote-files-and-i-will-encounter-an-input-output-error-when-copying-files-for-the-first-time-similar-to-the-following" class="sidebar-link">3.Why do I run the example Speed up Accessing Remote Files, and I will encounter an input/output error when copying files for the first time. Similar to the following:</a></li><li class="sidebar-sub-header"><a href="/fluid/guide/faq.html#_4-why-does-the-driver-name-fuse-csi-fluid-io-not-found-in-the-list-of-registered-csi-drivers-error-appear-when-i-create-a-task-to-mount-the-pvc-created-by-runtime" class="sidebar-link">4. Why does the driver name fuse.csi.fluid.io not found in the list of registered CSI drivers error appear when I create a task to mount the PVC created by Runtime?</a></li><li class="sidebar-sub-header"><a href="/fluid/guide/faq.html#_5-after-upgrading-fluid-why-does-the-dataset-created-in-older-version-miss-some-fields-compared-to-a-newly-created-dataset-when-querying-them-via-kubectl-get-command" class="sidebar-link">5. After upgrading fluid，why does the dataset created in older version miss some fields compared to a newly created dataset, when querying them via kubectl get command？</a></li><li class="sidebar-sub-header"><a href="/fluid/guide/faq.html#_6-why-do-i-run-the-example-nonroot-access-and-i-encounter-mkdir-permission-denied-error" class="sidebar-link">6. Why do I run the example Nonroot access, and I  encounter mkdir permission denied error</a></li><li class="sidebar-sub-header"><a href="/fluid/guide/faq.html#_7-why-does-volume-attachment-timeout-occur-when-pvc-is-used-in-an-application" class="sidebar-link">7. Why does Volume Attachment timeout occur when PVC is used in an application?</a></li><li class="sidebar-sub-header"><a href="/fluid/guide/faq.html#_8-after-creating-dataset-and-alluxioruntime-when-does-alluxio-master-pod-enter-into-crashloopbackoff-state" class="sidebar-link">8. After creating Dataset and AlluxioRuntime，When does alluxio master Pod enter into CrashLoopBackOff state？</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="faq"><a href="#faq" class="header-anchor">#</a> FAQ</h1> <h2 id="_1-why-do-i-fail-to-install-fluid-with-helm"><a href="#_1-why-do-i-fail-to-install-fluid-with-helm" class="header-anchor">#</a> 1. Why do I fail to install fluid with Helm？</h2> <p><strong>Answer</strong>: It is recommended to follow the <a href="/fluid/guide/install.html">Fluid installation document</a> to confirm whether the Fluid components are operating normally.</p> <p>The Fluid installation document is deployed based on <code>Helm 3</code> as an example. If you use a version below <code>Helm 3</code> to deploy Fluid and encounter the situation of <code>CRD not starting normally</code>. This may be because <code>Helm 3</code> and above versions will automatically install CRD during <code>helm install</code> but the lower version of Helm will not. See the <a href="https://helm.sh/docs/chart_best_practices/custom_resource_definitions/" target="_blank" rel="noopener noreferrer">Helm official documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>In this case, you need to install CRD manually：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ kubectl create -f fluid/crds
</code></pre></div><h2 id="_2-why-can-t-i-delete-runtime"><a href="#_2-why-can-t-i-delete-runtime" class="header-anchor">#</a> 2. Why can't I delete Runtime？</h2> <p><strong>Answer</strong>: Please check the related Pod running status and Runtime Events.</p> <p>As long as any active Pod is still using the Volume created by Fluid, Fluid will not complete the delete operation.</p> <p>The following commands can quickly find these active Pods. When using it, replace <code>&lt;dataset_name&gt;</code> and <code>&lt;dataset_namespace&gt;</code> with yours:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl describe pvc <span class="token operator">&lt;</span>dataset_name<span class="token operator">&gt;</span> -n <span class="token operator">&lt;</span>dataset_namespace<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
	<span class="token function">awk</span> <span class="token string">'/^Mounted/ {flag=1}; /^Events/ {flag=0}; flag'</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
	<span class="token function">awk</span> <span class="token string">'NR==1 {print $3}; NR!=1 {print $1}'</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
	<span class="token function">xargs</span> -I <span class="token punctuation">{</span><span class="token punctuation">}</span> kubectl get po <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
	<span class="token function">grep</span> -E <span class="token string">&quot;Running|Terminating|Pending&quot;</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
	<span class="token function">cut</span> -d <span class="token string">&quot; &quot;</span> -f <span class="token number">1</span>
</code></pre></div><h2 id="_3-why-do-i-run-the-example-speed-up-accessing-remote-files-and-i-will-encounter-an-input-output-error-when-copying-files-for-the-first-time-similar-to-the-following"><a href="#_3-why-do-i-run-the-example-speed-up-accessing-remote-files-and-i-will-encounter-an-input-output-error-when-copying-files-for-the-first-time-similar-to-the-following" class="header-anchor">#</a> 3.Why do I run the example <a href="/fluid/samples/">Speed up Accessing Remote Files</a>, and I will encounter an input/output error when copying files for the first time. Similar to the following:</h2> <div class="language- extra-class"><pre class="language-text"><code>time cp ./pyspark-2.4.6.tar.gz /tmp/
cp: error reading ‘./pyspark-2.4.6.tar.gz’: Input/output error
cp: failed to extend ‘/tmp/pyspark-2.4.6.tar.gz’: Input/output error

real	3m15.795s
user	0m0.001s
sys	0m0.092s
</code></pre></div><p>What caused this to happen？</p> <p><strong>Answer</strong>: The purpose of this example is to allow users to use the existing mirror download address of Apache software based on Http protocol to demonstrate the ability of data copy acceleration without building UFS (underlayer file system). However, in actual scenarios, the implementation of WebUFS is generally not used. But there are three limitations in this example：</p> <p>1.Availability and access speed of Apache software mirror download address.</p> <p>2.WebUFS is derived from Alluxio's community contribution and it is not the optimal implementation. For example, the implementation is not based on offset-based breakpoint resuming, which leads to the need to trigger WebUFS to read a large number of data blocks for each remote read operation.</p> <p>3.Since the copy behavior is implemented based on Fuse, the upper limit of each Fuse chunk read is 128KB under the Linux Kernel; The larger the file is, the first copy will trigger a large number of reading operations.</p> <p>In response to this problem, we proposed an optimized solution:</p> <p>1.When configuring read, set the block size and chunk size to be larger than the file size, so as to avoid the influence of frequent reading in Fuse implementation.</p> <div class="language- extra-class"><pre class="language-text"><code>alluxio.user.block.size.bytes.default: 256MB
alluxio.user.streaming.reader.chunk.size.bytes: 256MB
alluxio.user.local.reader.chunk.size.bytes: 256MB
alluxio.worker.network.reader.buffer.size: 256MB
</code></pre></div><p>2.In order to ensure that the target file can be downloaded successfully, the timeout of the block download can be adjusted. The timeout period in the example is 5 minutes. If your network condition is not good, you can set a longer time as appropriate.</p> <div class="language- extra-class"><pre class="language-text"><code>alluxio.user.streaming.data.timeout: 300sec
</code></pre></div><p>3.You can try to load the file manually.</p> <div class="language- extra-class"><pre class="language-text"><code>kubectl exec -it hbase-master-0 bash
time alluxio fs  distributedLoad --replication 1 /
</code></pre></div><h2 id="_4-why-does-the-driver-name-fuse-csi-fluid-io-not-found-in-the-list-of-registered-csi-drivers-error-appear-when-i-create-a-task-to-mount-the-pvc-created-by-runtime"><a href="#_4-why-does-the-driver-name-fuse-csi-fluid-io-not-found-in-the-list-of-registered-csi-drivers-error-appear-when-i-create-a-task-to-mount-the-pvc-created-by-runtime" class="header-anchor">#</a> 4. Why does the <code>driver name fuse.csi.fluid.io not found in the list of registered CSI drivers</code> error appear when I create a task to mount the PVC created by Runtime?</h2> <p><strong>Answer</strong>: Please check whether the kubelet configuration of the node on which the task is scheduled is the default value <code>/var/lib/kubelet</code>.</p> <p>First, check whether Fluid's CSI component is normal using the command.</p> <p>The following command can find the Pod quickly. When using it, replace the <code>&lt;node_name&gt;</code> and <code>&lt;fluid_namespace&gt;</code> with yours:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl get pod -n <span class="token operator">&lt;</span>fluid_namespace<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token operator">&lt;</span>node_name<span class="token operator">&gt;</span>

<span class="token comment"># &lt;pod_name&gt; the pod name of last step</span>
kubectl logs <span class="token operator">&lt;</span>pod_name<span class="token operator">&gt;</span> node-driver-registrar -n <span class="token operator">&lt;</span>fluid_namespace<span class="token operator">&gt;</span>
kubectl logs <span class="token operator">&lt;</span>pod_name<span class="token operator">&gt;</span> plugins -n <span class="token operator">&lt;</span>fluid_namespace<span class="token operator">&gt;</span>
</code></pre></div><p>If there is no error in the Log of the above steps, check whether the csidriver object exists:</p> <div class="language- extra-class"><pre class="language-text"><code>kubectl get csidriver
</code></pre></div><p>If the csidriver object exists, please check if the csi registered node contains <code>&lt;node_name&gt;</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>kubectl get csinode | grep &lt;node_name&gt;
</code></pre></div><p>If the above command has no output, check whether the kubelet configuration of the node on which the task is scheduled is the default value <code>/var/lib/kubelet</code>. Because Fluid's CSI component is registered to kubelet through a fixed address socket, the default value is <code>--csi-address=/var/lib/kubelet/csi-plugins/fuse.csi.fluid.io/csi.sock --kubelet-registration-path=/var/lib/kubelet/csi-plugins/fuse.csi.fluid.io/csi.sock</code>.</p> <h2 id="_5-after-upgrading-fluid-why-does-the-dataset-created-in-older-version-miss-some-fields-compared-to-a-newly-created-dataset-when-querying-them-via-kubectl-get-command"><a href="#_5-after-upgrading-fluid-why-does-the-dataset-created-in-older-version-miss-some-fields-compared-to-a-newly-created-dataset-when-querying-them-via-kubectl-get-command" class="header-anchor">#</a> 5. After upgrading fluid，why does the dataset created in older version miss some fields compared to a newly created dataset, when querying them via <code>kubectl get</code> command？</h2> <p><strong>Answer</strong>: During the upgrading, we perhaps have upgraded the CRDs. The dataset created in older version，will set the new fields in the CRDs to null
For example, if you upgrade from v0.4 or before, the dataset did not have a 'FileNum' field at that time
After upgrading fluid, if you use the <code>kubectl get</code> command, you cannot query the FileNum of the dataset</p> <p>You can recreate the dataset, and the new dataset will display these fields normally</p> <h2 id="_6-why-do-i-run-the-example-nonroot-access-and-i-encounter-mkdir-permission-denied-error"><a href="#_6-why-do-i-run-the-example-nonroot-access-and-i-encounter-mkdir-permission-denied-error" class="header-anchor">#</a> 6. Why do I run the example <a href="/fluid/samples/nonroot_access.html">Nonroot access</a>, and I  encounter mkdir permission denied error</h2> <p><strong>Answer</strong>: In non-root scenario, you have to check if you pass the right user info to runtime first. Secondly, you should check the alluxio master pod status, and use journalctl to see the kubelet logs in the node of alluxio master pod. The mkdir error was caused when mounting the hostpath to the container and therefor we have to check the root has the right permission to exec the directory. For example in the below root have permission to operator /dir</p> <div class="language- extra-class"><pre class="language-text"><code>$ stat /dir
  File: ‘/dir’
  Size: 32              Blocks: 0          IO Block: 4096   directory
Device: fd00h/64768d    Inode: 83          Links: 3
Access: (0755/drwxr-xr-x)  Uid: (    0/    root)   Gid: (    0/    root)
Access: 2021-04-14 23:35:47.928805350 +0800
Modify: 2021-01-19 00:16:21.539559082 +0800
Change: 2021-01-19 00:16:21.539559082 +0800
 Birth: -

</code></pre></div><h2 id="_7-why-does-volume-attachment-timeout-occur-when-pvc-is-used-in-an-application"><a href="#_7-why-does-volume-attachment-timeout-occur-when-pvc-is-used-in-an-application" class="header-anchor">#</a> 7. Why does Volume Attachment timeout occur when PVC is used in an application?</h2> <p><strong>Answer</strong>: The Volume Attachment timeout problem is a timeout caused by the Kubelet not
receiving a response from the CSI Driver when making a request to it.
This problem is caused by the fact that the CSI Driver is not installed, or Kubelet does not have permission to access the CSI Driver.
Since the CSI Driver is called back by Kubelet, if the CSI Driver is not installed or Kubelet does not have permission to view the CSI Driver, the CSI Plugin will not be triggered correctly.</p> <p>First, you need to use the command <code>kubectl get csidriver</code> to check whether the CSI driver is installed.
If not, you should use the command <code>kubectl apply -f charts/fluid/fluid/templates/CSI/driver.yaml</code> to install it, and then observe whether the PVC is successfully mounted into the application.
If it is not solved, you shall use the command <code>export KUBECONFIG=/etc/kubernetes/kubelet.conf &amp;&amp; kubectl get csidriver</code> to check Kubelet whether has permission to see the CSI Driver or not.</p> <h2 id="_8-after-creating-dataset-and-alluxioruntime-when-does-alluxio-master-pod-enter-into-crashloopbackoff-state"><a href="#_8-after-creating-dataset-and-alluxioruntime-when-does-alluxio-master-pod-enter-into-crashloopbackoff-state" class="header-anchor">#</a> 8. After creating Dataset and AlluxioRuntime，When does alluxio master Pod enter into CrashLoopBackOff state？</h2> <p><strong>Answer</strong>:First, use command<code>kubectl describe pod &lt;dataset_name&gt;-master-0</code>to query the reason why did Pod exit by mistake.</p> <p>Alluxio master Pod consists of two containers, alluxio-master and alluxio-job-master. If one of the containers exits by mistake, you should view the output log before it exits.</p> <p>For example，alluxio-job-master printed the following logs before exiting:</p> <div class="language- extra-class"><pre class="language-text"><code>$ kubectl logs imagenet-master-0  -c alluxio-job-master -p
2021-06-08 12:03:47,611 INFO  MetricsSystem - Starting sinks with config: {}.
2021-06-08 12:03:47,616 INFO  MetricsHeartbeatContext - Created metrics heartbeat with ID app-1642528563209467270. This ID will be used for identifying info from the client. It can be set manually through the alluxio.user.app.id property
2021-06-08 12:03:47,656 INFO  TieredIdentityFactory - Initialized tiered identity TieredIdentity(node=132.252.41.86, rack=null)
2021-06-08 12:03:47,697 INFO  ExtensionFactoryRegistry - Loading core jars from /opt/alluxio-release-2.5.0-2-SNAPSHOT/lib
2021-06-08 12:03:47,784 INFO  ExtensionFactoryRegistry - Loading extension jars from /opt/alluxio-release-2.5.0-2-SNAPSHOT/extensions
2021-06-08 12:03:50,767 ERROR AlluxioJobMasterProcess - java.net.UnknownHostException: jfk8snode43: jfk8snode43: Temporary failure in name resolution
java.lang.RuntimeException: java.net.UnknownHostException: jfk8snode43: jfk8snode43: Temporary failure in name resolution
        at alluxio.util.network.NetworkAddressUtils.getLocalIpAddress(NetworkAddressUtils.java:514)
        at alluxio.util.network.NetworkAddressUtils.getLocalHostName(NetworkAddressUtils.java:436)
        at alluxio.util.network.NetworkAddressUtils.getConnectHost(NetworkAddressUtils.java:313)
        at alluxio.underfs.JobUfsManager.connectUfs(JobUfsManager.java:55)
        at alluxio.underfs.AbstractUfsManager.getOrAdd(AbstractUfsManager.java:150)
        at alluxio.underfs.AbstractUfsManager.lambda$addMount$0(AbstractUfsManager.java:171)
        at alluxio.underfs.UfsManager$UfsClient.acquireUfsResource(UfsManager.java:61)
        at alluxio.master.journal.ufs.UfsJournal.&lt;init&gt;(UfsJournal.java:150)
        at alluxio.master.journal.ufs.UfsJournalSystem.createJournal(UfsJournalSystem.java:83)
        at alluxio.master.journal.ufs.UfsJournalSystem.createJournal(UfsJournalSystem.java:53)
        at alluxio.master.AbstractMaster.&lt;init&gt;(AbstractMaster.java:73)
        at alluxio.master.job.JobMaster.&lt;init&gt;(JobMaster.java:157)
        at alluxio.master.AlluxioJobMasterProcess.&lt;init&gt;(AlluxioJobMasterProcess.java:92)
        at alluxio.master.AlluxioJobMasterProcess$Factory.create(AlluxioJobMasterProcess.java:269)
        at alluxio.master.AlluxioJobMaster.main(AlluxioJobMaster.java:45)
Caused by: java.net.UnknownHostException: jfk8snode43: jfk8snode43: Temporary failure in name resolution
        at java.net.InetAddress.getLocalHost(InetAddress.java:1506)
        at alluxio.util.network.NetworkAddressUtils.getLocalIpAddress(NetworkAddressUtils.java:472)
        ... 14 more
Caused by: java.net.UnknownHostException: jfk8snode43: Temporary failure in name resolution
        at java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method)
        at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:929)
        at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1324)
        at java.net.InetAddress.getLocalHost(InetAddress.java:1501)
        ... 15 more
2021-06-08 12:03:50,773 ERROR AlluxioJobMaster - Failed to create job master process
java.lang.RuntimeException: java.net.UnknownHostException: jfk8snode43: jfk8snode43: Temporary failure in name resolution
        at alluxio.util.network.NetworkAddressUtils.getLocalIpAddress(NetworkAddressUtils.java:514)
        at alluxio.util.network.NetworkAddressUtils.getLocalHostName(NetworkAddressUtils.java:436)
        at alluxio.util.network.NetworkAddressUtils.getConnectHost(NetworkAddressUtils.java:313)
        at alluxio.underfs.JobUfsManager.connectUfs(JobUfsManager.java:55)
        at alluxio.underfs.AbstractUfsManager.getOrAdd(AbstractUfsManager.java:150)
        at alluxio.underfs.AbstractUfsManager.lambda$addMount$0(AbstractUfsManager.java:171)
        at alluxio.underfs.UfsManager$UfsClient.acquireUfsResource(UfsManager.java:61)
        at alluxio.master.journal.ufs.UfsJournal.&lt;init&gt;(UfsJournal.java:150)
        at alluxio.master.journal.ufs.UfsJournalSystem.createJournal(UfsJournalSystem.java:83)
        at alluxio.master.journal.ufs.UfsJournalSystem.createJournal(UfsJournalSystem.java:53)
        at alluxio.master.AbstractMaster.&lt;init&gt;(AbstractMaster.java:73)
        at alluxio.master.job.JobMaster.&lt;init&gt;(JobMaster.java:157)
        at alluxio.master.AlluxioJobMasterProcess.&lt;init&gt;(AlluxioJobMasterProcess.java:92)
        at alluxio.master.AlluxioJobMasterProcess$Factory.create(AlluxioJobMasterProcess.java:269)
        at alluxio.master.AlluxioJobMaster.main(AlluxioJobMaster.java:45)
Caused by: java.net.UnknownHostException: jfk8snode43: jfk8snode43: Temporary failure in name resolution
        at java.net.InetAddress.getLocalHost(InetAddress.java:1506)
        at alluxio.util.network.NetworkAddressUtils.getLocalIpAddress(NetworkAddressUtils.java:472)
        ... 14 more
Caused by: java.net.UnknownHostException: jfk8snode43: Temporary failure in name resolution
        at java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method)
        at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:929)
        at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1324)
        at java.net.InetAddress.getLocalHost(InetAddress.java:1501)
        ... 15 more
2021-06-08 12:03:50,917 INFO  NettyUtils - EPOLL_MODE is available
2021-06-08 12:03:51,319 WARN  MetricsHeartbeatContext - Failed to heartbeat to the metrics master before exit
</code></pre></div><p>This error is generally due to the host where aluxio master Pod is located, does not configure the mapping relationship between the hostname and IP in DNS server or /etc /hosts file, resulting in the failure of aluxio-job-master to resolve the host name.
At this time, you need to log in to the host where aluxio master Pod is located, execute the command 'hostname' to query the hostname, and write its mapping relationship with IP to the /etc/hosts file.
You can search in the issue of this project to find solutions to the error information you encounter. If there is no issue that can solve your problem, you can also propose a new issue.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fluid/guide/troubleshooting.html" class="prev">
        Troubleshooting
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/fluid/assets/js/app.ce7ba76a.js" defer></script><script src="/fluid/assets/js/2.931ec2de.js" defer></script><script src="/fluid/assets/js/30.f29090e5.js" defer></script>
  </body>
</html>
