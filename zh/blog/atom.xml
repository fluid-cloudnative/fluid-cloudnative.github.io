<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://fluid-cloudnative.github.io/zh/blog</id>
    <title>Fluid Blog</title>
    <updated>2023-08-31T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://fluid-cloudnative.github.io/zh/blog"/>
    <subtitle>Fluid Blog</subtitle>
    <icon>https://fluid-cloudnative.github.io/zh/img/fluid-icon-color.png</icon>
    <entry>
        <title type="html"><![CDATA[Our Paper "High-level Data Abstraction and Elastic Data Caching for Data-intensive AI Applications on Cloud-native Platforms" is Accepted by IEEE TPDS 2023"]]></title>
        <id>https://fluid-cloudnative.github.io/zh/blog/fluid-tpds-paper</id>
        <link href="https://fluid-cloudnative.github.io/zh/blog/fluid-tpds-paper"/>
        <updated>2023-08-31T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Our paper "High-level Data Abstraction and Elastic Data Caching for Data-intensive AI Applications on Cloud-native Platforms" is Accepted by IEEE TPDS 2023!]]></summary>
        <content type="html"><![CDATA[<p>Our paper <em>"High-level Data Abstraction and Elastic Data Caching for Data-intensive AI Applications on Cloud-native Platforms"</em> is Accepted by IEEE TPDS 2023!</p>
<p>For more information, please refer to:</p>
<p><strong>Rong Gu, Zhihao Xu, Yang Che, et al. <a href="https://ieeexplore.ieee.org/document/10249214" target="_blank" rel="noopener noreferrer">High-level Data Abstraction and Elastic Data Caching for Data-intensive AI Applications on Cloud-native Platforms</a>. IEEE TPDS, pp. 2946-2964, Vol 34(11), 2023.</strong></p>
<p><img decoding="async" loading="lazy" src="https://fluid-cloudnative.github.io/zh/assets/images/fluid-tpds-paper-cf1a6d0f470cfddebed57043044154d0.png" width="628" height="835" class="img_ev3q"></p>]]></content>
        <author>
            <name>Rong Gu</name>
            <uri>https://github.com/RongGu</uri>
        </author>
        <category label="paper" term="paper"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Our Paper "Fluid: Dataset Abstraction and Elastic Acceleration for Cloud-native Deep Learning Training Job" is Accepted by IEEE ICDE 2022]]></title>
        <id>https://fluid-cloudnative.github.io/zh/blog/fluid-icde-paper</id>
        <link href="https://fluid-cloudnative.github.io/zh/blog/fluid-icde-paper"/>
        <updated>2022-02-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Fluid: Dataset Abstraction and Elastic Acceleration for Cloud-native Deep Learning Training Jobs” is Accepted by IEEE ICDE 2022!]]></summary>
        <content type="html"><![CDATA[<p>Fluid: Dataset Abstraction and Elastic Acceleration for Cloud-native Deep Learning Training Jobs” is Accepted by IEEE ICDE 2022!</p>
<p>For more information, please refer to:</p>
<p><strong>Rong Gu, Kai Zhang, Zhihao Xu, et al. <a href="https://ieeexplore.ieee.org/abstract/document/9835158" target="_blank" rel="noopener noreferrer">Fluid: Dataset Abstraction and Elastic Acceleration for Cloud-native Deep Learning Training Jobs</a>. IEEE ICDE, pp. 2183-2196, May, 2022. (Conference Version)</strong></p>
<p><img decoding="async" loading="lazy" src="https://fluid-cloudnative.github.io/zh/assets/images/fluid-icde-paper-195fa43eccf4037faa810eaa7bec9539.png" width="649" height="844" class="img_ev3q"></p>]]></content>
        <author>
            <name>Rong Gu</name>
            <uri>https://github.com/RongGu</uri>
        </author>
        <category label="paper" term="paper"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Fluid 0.5 release: open the way of online elastic expansion of dataset cache]]></title>
        <id>https://fluid-cloudnative.github.io/zh/blog/fluid-0.5</id>
        <link href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5"/>
        <updated>2021-03-19T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Guide:  in order to solve the problems of heterogeneous data source access, slow I/O speed of storage and calculation separation, low efficiency of scenario perception and low scheduling, the open source project fluid was jointly launched by pasalab, Alibaba and alluxio of Nanjing University in june2020 in order to solve the problems of heterogeneous data source access, slow storage / computing separation I/O speed, low efficiency of scenario perception and scheduling.]]></summary>
        <content type="html"><![CDATA[<p><strong>Guide:</strong>  in order to solve the problems of heterogeneous data source access, slow I/O speed of storage and calculation separation, low efficiency of scenario perception and low scheduling, the open source project fluid was jointly launched by pasalab, Alibaba and alluxio of Nanjing University in june2020 in order to solve the problems of heterogeneous data source access, slow storage / computing separation I/O speed, low efficiency of scenario perception and scheduling.</p>
<p>Fluid is an efficient support platform for data intensive applications in cloud native environment. Since the open source release, the project has attracted the attention of experts and engineers in many related fields. The community has been evolving with the positive feedback of all. Recently, fluid 0.5 version has been officially released. In this version, fluid mainly adds three aspects to improve:</p>
<ul>
<li>
<p>It is rich in the operation functions of data sets, and supports online elastic expansion, metadata backup and recovery.</p>
</li>
<li>
<p>Support the deployment of various environments and meet the user's personalized deployment and configuration requirements.</p>
</li>
<li>
<p>Add data cache engine implementation, and increase the engine selection of users on the public cloud.</p>
</li>
</ul>
<p><strong>Fluid open source project address</strong> : <a href="https://github.com/fluid-cloudnative/fluid" target="_blank" rel="noopener noreferrer">https://github.com/fluid-cloudnative/fluid</a></p>
<p>The development requirements of these three main functions come from the actual production feedback of many community users. In addition, fluid v0.5 has also carried out some bug fixes and document updates. Welcome to experience fluid v0.5!</p>
<p><strong>Fluidv0.5 download link</strong> : <a href="https://github.com/fluid-cloudnative/fluid/releases" target="_blank" rel="noopener noreferrer">https://github.com/fluid-cloudnative/fluid/releases</a></p>
<p>The following is a further introduction to the release features of this new version.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enrich-the-operation-function-of-data-set">Enrich the operation function of data set<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#enrich-the-operation-function-of-data-set" class="hash-link" aria-label="Enrich the operation function of data set的直接链接" title="Enrich the operation function of data set的直接链接">​</a></h2>
<p>In this version, fluid focuses on enriching the relevant operation functions of the core abstract object, dataset, so that data intensive applications can better utilize the basic functions of elasticity and observability provided by cloud natively, and enhance the user's flexibility in data set management.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-data-set-online-elastic-cache-expansion">1. data set online elastic cache expansion<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#1-data-set-online-elastic-cache-expansion" class="hash-link" aria-label="1. data set online elastic cache expansion的直接链接" title="1. data set online elastic cache expansion的直接链接">​</a></h3>
<p>This is the function that community users have been looking forward to! Before fluid v0.5, if the user wants to adjust the cache capability of the dataset, it needs to be done by uninstalling the cache engine and redeploying it all. This approach is time-consuming and must also consider the high cost of all data cache loss. Therefore, in the new version, we provide the support for the data set to expand the cache elasticity. Users can increase the cache capacity of a dataset on-the-fly in a non-stop manner according to their own scenario requirements to accelerate data access (expansion) or reduce the cache capacity (shrink) of a dataset that is not frequently used, Thus, more precise elastic resource allocation can be realized and resource utilization rate can be improved. The built-in controller of fluid selects the appropriate expansion node according to the policy, for example, when scaling, it will take the task situation on the node and the node cache ratio as the filter condition.</p>
<p>To perform the elastic data set cache capacity elastic expansion, the user only needs to run the following command:</p>
<blockquote>
<p>kubectl scale alluxioruntimes.data.fluid.io {datasetName} --replicas={num}</p>
</blockquote>
<p>Where dataset name corresponds to the name of the dataset, replica specifies the number of cache nodes.</p>
<p>The video of manual expansion and its effect of data set is as follows:</p>
<p><a href="https://fluid-imgs.oss-cn-shanghai.aliyuncs.com/public/video/on-the-fly.mp4" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://fluid-imgs.oss-cn-shanghai.aliyuncs.com/public/imgs/on-the-fly.jfif" alt="fly-demo" class="img_ev3q"></a></p>
<p>For more details on manual scaling of datasets, refer to <a href="https://fluid-cloudnative.github.io/zh/docs/tutorials/dataset-operation/cache-runtime-manually-scaling">documentation</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-backup-and-recovery-of-metadata">2. backup and recovery of metadata<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#2-backup-and-recovery-of-metadata" class="hash-link" aria-label="2. backup and recovery of metadata的直接链接" title="2. backup and recovery of metadata的直接链接">​</a></h3>
<p>This feature enhances the flexibility of fluid dataset metadata management. Previous fluid v0.4 has supported loading metadata for datasets (for example, file system inode tree) to the local and records some key statistics (for example, the size of the data volume and the number of files) of the dataset. However, once the user destroys the local dataset, all the metadata information will be lost, and the data set needs to be retrieved from the underlying storage system again when rebuilding the dataset.</p>
<p>Therefore, in fluid v0.5, we add a k8s custom resource object, DataBackup, which provides the user with a declarative API interface to control the related behavior of data backup. A simple example of building a DataBackup custom resource object is as follows:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data.fluid.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DataBackup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hbase</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token key atrule" style="color:#00a4db">dataset</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hbase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token key atrule" style="color:#00a4db">backupPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pvc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//&lt;pvcName</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">/subpath1/subpath2/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When you create the dataset again, you need to add a field that specifies the location of the backup file:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data.fluid.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Dataset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hbase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token key atrule" style="color:#00a4db">dataRestoreLocation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pvc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//pvc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">local/subpath1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">mounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">mountPoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//mirrors.tuna.tsinghua.edu.cn/apache/hbase/2.2.6/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>At this point, fluid will first load metadata and dataset statistics from the backup file, thus greatly improving the loading speed of metadata.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-observability-optimization-of-data-set">3. observability optimization of data set<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#3-observability-optimization-of-data-set" class="hash-link" aria-label="3. observability optimization of data set的直接链接" title="3. observability optimization of data set的直接链接">​</a></h3>
<p>Fluid v0.5 also further enhances the observability of the dataset, which includes two parts:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-combination-with-prometheus">1) combination with Prometheus<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#1-combination-with-prometheus" class="hash-link" aria-label="1) combination with Prometheus的直接链接" title="1) combination with Prometheus的直接链接">​</a></h4>
<p>This feature supports the collection of data set availability and performance indicators and is visualized through grafana. At present, the implementation of alloxioruntime is supported. Users can easily understand the performance indicators such as current cache node, cache space, existing cache ratio, remote reading, short-circuit reading and so on. The whole configuration process is very simple, and it achieves the effect of "out of the box" for the data set monitoring system.</p>
<p><img decoding="async" loading="lazy" src="https://fluid-imgs.oss-cn-shanghai.aliyuncs.com/public/imgs/fluid-elastic-04.webp" alt="prometheus" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-hit-rate-index-of-new-dataset-cache">2) hit rate index of new dataset cache<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#2-hit-rate-index-of-new-dataset-cache" class="hash-link" aria-label="2) hit rate index of new dataset cache的直接链接" title="2) hit rate index of new dataset cache的直接链接">​</a></h4>
<p>This feature can identify how many of the access to the dataset in the last 1 minute has hit the distributed cache. On the one hand, the indicator can help users analyze the performance bottleneck in their data intensive applications, and quantitatively check the effect of fluid in the workflow of the whole application; On the other hand, it can help users to balance the application performance and cache resource occupation, and make reasonable expansion decision.</p>
<p>This indicator is added to the dataset CRD resource status of 'dataset.status.cachestates' in the future v0.5, specifically including:</p>
<ul>
<li>
<p>Cache hit ratio: the percentage of access to distributed cache hits in the past minute.</p>
</li>
<li>
<p>Local hit ratio: the percentage of access hit by the local cache in the past minute.</p>
</li>
<li>
<p>Remote hit ratio: the percentage of access to remote cache hits in the past minute.</p>
</li>
</ul>
<blockquote>
<p>Note: for distributed cache, there are two different cache hits for data hits <strong>Local cache hit</strong> refers to the access initiator can access the cache data directly at the same node <strong>Remote cache hit</strong> refers to the access to cache data on other nodes through the network by the initiator.</p>
</blockquote>
<p>In fluid v0.5, users can easily view cache hit indicators using the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get dataset &lt;dataset-name&gt; -o wide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME ... CACHE HIT RATIO AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dataset-name&gt; ... 86.2% 16m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="support-deployment-of-diverse-environment-configuration">Support deployment of diverse environment configuration<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#support-deployment-of-diverse-environment-configuration" class="hash-link" aria-label="Support deployment of diverse environment configuration的直接链接" title="Support deployment of diverse environment configuration的直接链接">​</a></h2>
<p>Since the release of fluid 0.4, we have increased support for fluid deployment configuration in a variety of environments according to the problems and requirements of community users' actual deployment feedback.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-support-fuse-global-mode">1. support fuse global mode<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#1-support-fuse-global-mode" class="hash-link" aria-label="1. support fuse global mode的直接链接" title="1. support fuse global mode的直接链接">​</a></h3>
<p>In fluid, the remote files defined in the dataset resource object are schedulable, which means that you can manage the remote file cache to the location on the kubernetes cluster as you do managing pod. The calculated pod can access the data file through the fuse client. In previous versions of fluid, fuse clients always schedule to the nodes where the cache is located, but users are not free to control the dispatch of fuse.</p>
<p>In fluid v0.5, we added a global deployment pattern to fuse. In this mode, fuse is deployed globally to all nodes by default. Users can also influence the scheduling results of fuse by specifying the nodeselector of fuse. At the same time, cache will be deployed on nodes with a large number of calculated pods.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-support-hdfs-user-level-configuration">2. support HDFS user level configuration<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#2-support-hdfs-user-level-configuration" class="hash-link" aria-label="2. support HDFS user level configuration的直接链接" title="2. support HDFS user level configuration的直接链接">​</a></h3>
<p>Many community users use the distributed cache system, alloxo, as the cache engine for fluid data sets. In the case of data set persistence stored in HDFS file system, to make aluxo access to the underlying HDFS, the aluxo cluster needs to obtain all kinds of configuration information of the HDFS in advance.</p>
<p>In fluid v0.5, we use kubernetes' native resources to support the above scenarios. Users need to create the relevant configuration files (e.g. ` HDFS site.xml 'and' core site.xml ') in the kubernetes environment in the form of' configmap ', and then reference the' configmap 'created above in the created' alloxioruntime 'resource object to achieve the above functions.</p>
<p><code>An example of the alloxioruntime</code> resource object is as follows:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data.fluid.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> AlluxioRuntime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">hdfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token key atrule" style="color:#00a4db">hadoopConfig</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;configmap</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>At this point, the created cluster of aluxo will be able to access the data in the HDFS cluster normally. For more information, refer to the sample documentation</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-of-new-data-cache-engine">Implementation of new data cache engine<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#implementation-of-new-data-cache-engine" class="hash-link" aria-label="Implementation of new data cache engine的直接链接" title="Implementation of new data cache engine的直接链接">​</a></h2>
<p>The default distributed cache runtime used by fluid is alluxioruntime. In order to support the needs of users in different environments for the cache system, fluid has made the distributed cache runtime access framework into a pluggable architecture in the previous version. In fluid v0.5, community contributors from Alibaba cloud developed jindoruntime based on the framework and added an execution engine implementation to support fluid dataset data management and caching. Users can use the cache mode of jindofs to access and cache remote files in fluid through jindoruntime. Using and deploying jindoruntime on fluid is simple, compatible with the native k8s environment and out of the box.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#summary" class="hash-link" aria-label="Summary的直接链接" title="Summary的直接链接">​</a></h2>
<p>In fluid v0.5, we have enriched and enhanced the functional features and user experience of fluid.
<strong>First of all</strong> , fluid v0.5 further adds the function operation of dataset:</p>
<ul>
<li>
<p>Provide online elastic capacity expansion and contraction of data sets, and realize more flexible and fine cluster resource allocation control.</p>
</li>
<li>
<p>The new DataBackup CRD realizes the backup and recovery of dataset file metadata and other information, and helps complete the rapid restart of dataset caching system.</p>
</li>
<li>
<p>A cache hit rate indicator is added to help users better quantify and analyze the acceleration effect provided by fluid.</p>
</li>
</ul>
<p><strong>Secondly</strong> , fluid supports more environment modes and configurations to meet the deployment requirements of more real scenarios.</p>
<p><strong>Finally</strong> , fluid adds a distributed cache runtime based on jindofs - jindoruntime, which provides users with different cache engine choices in diversified deployment environments.</p>
<p>We will continue to pay extensive attention to and adopt community suggestions to promote the long-term development of the fluid project, and look forward to hearing more feedback from you. If you have any questions or suggestions, welcome to join the fluid user group to participate in communication or discuss with us on GitHub:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="acknowledge">Acknowledge<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#acknowledge" class="hash-link" aria-label="Acknowledge的直接链接" title="Acknowledge的直接链接">​</a></h2>
<p>Thanks to the community partners who contributed to this version, including Wang Tao from Alibaba cloud, Xie Yuandong from Tencent cloud, Qiu Lingwei from China Telecom, Xu Zhihao, Hou Haojun, Chen Guowang, Chen Yuquan and other students from pasalab of Nanjing University.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-the-author">Introduction to the author<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.5#introduction-to-the-author" class="hash-link" aria-label="Introduction to the author的直接链接" title="Introduction to the author的直接链接">​</a></h2>
<p>Dr. Gu Rong, associate researcher of Computer Department of Nanjing University, member of PMC of fluid open source project co founder and alluxio open source project, research direction of big data processing system, has published more than 30 papers in Frontier Journal conferences in TPDS, ICDE, jpdc, IPDPS, ICPP and other fields, and presided over general projects / youth projects of National Natural Science Foundation of China There are a number of projects specially funded by China Postdoctoral Science Foundation. The research results have been applied to Alibaba, Baidu, byte beat, Sinopec, Huatai Securities and other companies and open source projects Apache spark and alluxio, and won the first prize of Jiangsu Science and technology in 2018 and the youth science and technology award of Jiangsu computer society in 2019, Served as a member of the system software special committee of China Computer Society / communication member of the big data special committee and Secretary General of the big data special committee of Jiangsu computer society.</p>]]></content>
        <author>
            <name>Rong Gu</name>
            <uri>https://github.com/RongGu</uri>
        </author>
        <category label="release" term="release"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Fluid 0.4 new release: supports data preheating and optimizes small file  scenarios]]></title>
        <id>https://fluid-cloudnative.github.io/zh/blog/fluid-0.4</id>
        <link href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.4"/>
        <updated>2020-11-16T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Guide reading: in order to solve the problems of high delay of data access, difficult joint analysis and multi-dimensional management in the separation scenario of data intensive applications such as big data and AI in cloud primary computing storage separation scenario, pasalab, Alibaba and alluxio of Nanjing University jointly launched open source project fluid in September 2020.]]></summary>
        <content type="html"><![CDATA[<p><strong>Guide reading:</strong> in order to solve the problems of high delay of data access, difficult joint analysis and multi-dimensional management in the separation scenario of data intensive applications such as big data and AI in cloud primary computing storage separation scenario, pasalab, Alibaba and alluxio of Nanjing University jointly launched open source project fluid in September 2020.</p>
<p>Recently, fluid 0.4 version was officially released, with four important functions added, namely:</p>
<ul>
<li>
<p>Data load customization provides easy to use and customizable data preheating capability</p>
</li>
<li>
<p>Enhance the support capability of large amount of small file data sets, and expand the support scenarios of fluid for AI applications</p>
</li>
<li>
<p>Open HDFS file system compatible interface, support data access of spark and other frameworks</p>
</li>
<li>
<p>Support mixed deployment of multiple datasets and single nodes, and adapt to the shared cluster environment in the production environment</p>
</li>
</ul>
<p><strong>Fluid project address</strong> : <a href="https://github.com/fluid-cloudnative/fluid" target="_blank" rel="noopener noreferrer">https://github.com/fluid-cloudnative/fluid</a></p>
<p>And fluid 0.3 Similar to the above functions, the development requirements of the above functions are also from the production actual feedback of many community users. In addition, fluid v0.4 has also carried out some bug fixes and document updates. Welcome to experience fluid v0.4! Thank you for the community partners who have contributed to this version. In the next version function iteration, we will continue to pay close attention to and adopt community suggestions, promote the development of fluid project, and look forward to hearing more feedback from you!</p>
<p>The following is a further introduction to the release features of this new version.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="support-active-data-preheating">Support active data preheating<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.4#support-active-data-preheating" class="hash-link" aria-label="Support active data preheating的直接链接" title="Support active data preheating的直接链接">​</a></h2>
<p>Data preheating is a common optimization method in AI application model training. Data preheating refers to pulling the data needed by the application from the remote storage system to the local computing cluster before the application runs for later application operation <strong>Data preheating is a sequential and regular parallel data reading mode, which avoids the unnecessary communication overhead caused by random data reading when data intensive applications consume data of remote storage system directly.</strong></p>
<p>Therefore, in fluid 0.4, <strong>we implemented a new kubernetes custom resource dataload, which provides the user with a declarative API interface in the way of kubernetes resources to control the data preheating related behaviors</strong> . A simple example of dataload custom resources is as follows:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data.fluid.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DataLoad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> imagenet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dataload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token key atrule" style="color:#00a4db">dataset</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> imagenet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In addition, with a small amount of additional configuration, dataload can also realize many customizable functions such as subdirectory loading, cache replica quantity control, metadata synchronization, etc. for more details related to the use of dataload, please refer to sample document on GitHub.</p>
<p>The demo video on the use and optimization of dataload is as follows:</p>
<p><a href="https://fluid-imgs.oss-cn-shanghai.aliyuncs.com/public/video/dataWarmup.mp4" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://fluid-imgs.oss-cn-shanghai.aliyuncs.com/public/imgs/dataWarmup.jfif" alt="04-demo" class="img_ev3q"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enhance-the-support-ability-of-large-amount-of-small-file-data-sets">Enhance the support ability of large amount of small file data sets<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.4#enhance-the-support-ability-of-large-amount-of-small-file-data-sets" class="hash-link" aria-label="Enhance the support ability of large amount of small file data sets的直接链接" title="Enhance the support ability of large amount of small file data sets的直接链接">​</a></h2>
<p>Fluid is an efficient support platform for data intensive applications in cloud native environment. Therefore, we have been closely following the applicability of the data set support capability provided by fluid in different scenarios. Before fluid 0.4, fluid has provided a series of data set support capabilities such as abstraction, management, acceleration, observability, etc., however, the above capabilities are still very basic in the context of large amount of small files based on the feedback of community members.</p>
<p>Considering the universality of large-scale small file data sets in real production environment, especially AI application scenarios, we have made in-depth research on the problems brought by large-scale small files, and put forward solutions such as <strong>asynchronous metadata loading query</strong>, <strong>streaming data processing</strong>  and so on , which are all integrated into fluid 0.4 version at present, To enhance fluid's support for large small file data sets</p>
<p><strong>The following is the performance comparison assessment results of fluid after optimizing in the 4million small file scenario using the alluxito runtime</strong> :</p>
<table><thead><tr><th></th><th><strong>Fluid 0.3</strong></th><th><strong>Fluid 0.4</strong></th></tr></thead><tbody><tr><td><strong>dataset initialization</strong></td><td>60 min</td><td>22 min</td></tr><tr><td><strong>8 thread parallel data reading</strong></td><td>407 min</td><td>29 min</td></tr><tr><td><strong>deep learning model training</strong></td><td>6.5 hours</td><td>45 min</td></tr></tbody></table>
<p>Storage management of large amount of small files is a difficult problem that many storage systems will encounter. In the subsequent versions, we will continue to pay attention to this scenario and the problems it brings.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="convenient-big-data-computing-framework-such-as-spark-to-provide-data-access-support">Convenient big data computing framework such as spark to provide data access support<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.4#convenient-big-data-computing-framework-such-as-spark-to-provide-data-access-support" class="hash-link" aria-label="Convenient big data computing framework such as spark to provide data access support的直接链接" title="Convenient big data computing framework such as spark to provide data access support的直接链接">​</a></h2>
<p>Besides AI applications, fluid 0.4 also supports big data applications such as spark to run on it. By exposing the Hadoop file system compatible interface (HCFs) of the allouxio distributed cache engine to users, the data analysis application written by Hadoop MapReduce, Apache spark and other big data computing frameworks can be directly run on fluid without modifying the application code, and enjoy the ability of distributed cache acceleration provided by fluid .</p>
<p>For more details on accessing data through the HCFs interface, refer to sample documentation on GitHub.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mixed-deployment-of-multiple-data-sets-and-single-node">Mixed deployment of multiple data sets and single node<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.4#mixed-deployment-of-multiple-data-sets-and-single-node" class="hash-link" aria-label="Mixed deployment of multiple data sets and single node的直接链接" title="Mixed deployment of multiple data sets and single node的直接链接">​</a></h2>
<p>In the real production environment, users will train multiple tasks on GPU nodes in kubernetes cluster to use multiple datasets. Before fluid 0.4, single node cannot deploy multiple data sets at the same time. Therefore, if multiple users expect to access the required data sets at the same node at the same time, A user's dataset cannot be created.</p>
<p>In fluid 0.4, we added the ability of multi dataset and single node mixed deployment for fluid, which means that as long as the resources on the node are sufficient, the conflict of deployment of multiple datasets from different users will no longer occur, which will make fluid more suitable for the needs of the actual production environment. On the other hand, hybrid deployment can effectively utilize idle resources, increase the utilization rate of cluster resources of each node in the cluster, and further improve the cost and benefit brought by fluid.</p>
<p>For a brief introduction to mixed deployment of multiple datasets and single nodes, refer to sample document on GitHub.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="thank">Thank<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.4#thank" class="hash-link" aria-label="Thank的直接链接" title="Thank的直接链接">​</a></h2>
<ul>
<li>
<p>Xu Zhihao (pasalab, Nanjing University) contribution to supporting small file scenarios and data preheating functions</p>
</li>
<li>
<p>Xiefeng (cloud Zhisheng) for the development of mixed deployment function and scenario verification of multiple data sets and single node</p>
</li>
<li>
<p>Qiu Lingwei (Chinatelecom) contributed to fluid architecture split, he split the runtime and dataset controller, and supported the parallel evolution of the two components in the future</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.4#summary" class="hash-link" aria-label="Summary的直接链接" title="Summary的直接链接">​</a></h2>
<p>Fluid 0.4 will continue to address the problems and requirements feedback from community users in the actual production environment, expand the applicability of fluid in various scenarios and improve the user experience:</p>
<ul>
<li>
<p>Firstly, the optimization of the support capability of large and small file data sets enables fluid to better deal with different use scenarios;</p>
</li>
<li>
<p>Secondly, the new data load customization resources provide a simple data preheating solution for users;</p>
</li>
<li>
<p>Furthermore, the support for data access of big data applications such as spark enables fluid to provide support for different types of data intensive applications;</p>
</li>
<li>
<p>Finally, the mixed deployment of multiple datasets makes fluid more suitable for the actual production environment.</p>
</li>
</ul>
<p>If you have any questions or suggestions, please join the nail exchange group to participate in and discuss:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-the-author">Introduction to the author<a href="https://fluid-cloudnative.github.io/zh/blog/fluid-0.4#introduction-to-the-author" class="hash-link" aria-label="Introduction to the author的直接链接" title="Introduction to the author的直接链接">​</a></h2>
<p><strong>Dr. Gu Rong</strong> is an associate researcher of Computer Department of Nanjing University, and has published more than 20 papers in the frontier periodical meetings in TPDS, ICDE, jpdc, IPDPS, ICPP and other fields. He presided over several projects on the National Natural Science Foundation (NSFC) and youth projects, and a number of special projects funded by China Postdoctoral Science Fund. The research results have been applied to Alibaba, Baidu, and Baidu Byteco, Sinopec, Huatai Securities and open source projects Apache spark and alluxio won the first prize of Jiangsu Science and technology in 2018, the youth science and technology award of Jiangsu computer society in 2019, and served as member of the system software special committee of China Computer Society / communication member of the special committee of big data, Secretary General of the big data special committee of Jiangsu computer society Fluid Open Source Project Co foundation, PMC member of the alluxio open source project.</p>]]></content>
        <author>
            <name>Rong Gu</name>
            <uri>https://github.com/RongGu</uri>
        </author>
        <category label="release" term="release"/>
    </entry>
</feed>