"use strict";(self.webpackChunkfluid_website_demo=self.webpackChunkfluid_website_demo||[]).push([[4820],{96:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>r,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>d,toc:()=>c});var n=s(7624),a=s(2172);const o={sidebar_label:"Set Access Mode",sidebar_position:3},i="Set Access Mode",d={id:"tutorials/dataset-security/set-access-mode",title:"Set Access Mode",description:"Prerequisites",source:"@site/docs/tutorials/dataset-security/set-access-mode.md",sourceDirName:"tutorials/dataset-security",slug:"/tutorials/dataset-security/set-access-mode",permalink:"/zh/docs/next/tutorials/dataset-security/set-access-mode",draft:!1,unlisted:!1,editUrl:"https://github.com/fluid-cloudnative/fluid-cloudnative.github.io/tree/master/docs/tutorials/dataset-security/set-access-mode.md",tags:[],version:"current",lastUpdatedBy:"ZhangXiaozheng",lastUpdatedAt:1712661563,formattedLastUpdatedAt:"2024\u5e744\u67089\u65e5",sidebarPosition:3,frontMatter:{sidebar_label:"Set Access Mode",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Using Fluid to Access Non-root User's Data",permalink:"/zh/docs/next/tutorials/dataset-security/using-fluid-to-access-non-root-users-data"},next:{title:"Accelerate HostPath with Fluid",permalink:"/zh/docs/next/tutorials/storage-acceleration/accelerate-hostPath-with-fluid"}},r={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Set dataset access mode",id:"set-dataset-access-mode",level:2},{value:"Example",id:"example",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.M)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"set-access-mode",children:"Set Access Mode"}),"\n",(0,n.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsxs)(t.p,{children:["Before everything we are going to do, please refer to ",(0,n.jsx)(t.a,{href:"/docs/get-started/installation",children:"Installation Guide"})," to install Fluid on your Kubernetes Cluster, and make sure all the components used by Fluid are ready like this:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"$ kubectl get pod -n fluid-system\nNAME                                  READY   STATUS    RESTARTS   AGE\nalluxioruntime-controller-5b64fdbbb-84pc6   1/1     Running   0          8h\ncsi-nodeplugin-fluid-fwgjh                  2/2     Running   0          8h\ncsi-nodeplugin-fluid-ll8bq                  2/2     Running   0          8h\ndataset-controller-5b7848dbbb-n44dj         1/1     Running   0          8h\n"})}),"\n",(0,n.jsx)(t.p,{children:'Normally, you shall see a Pod named "dataset-controller", a Pod named "alluxioruntime-controller" and several Pods named "csi-nodeplugin".\nThe num of "csi-nodeplugin" Pods depends on how many nodes your Kubernetes cluster have(e.g. 2 in this demo), so please make sure all "csi-nodeplugin" Pods are working properly.'}),"\n",(0,n.jsx)(t.h2,{id:"set-dataset-access-mode",children:"Set dataset access mode"}),"\n",(0,n.jsxs)(t.p,{children:["The access mode of the dataset is set to ",(0,n.jsx)(t.strong,{children:"ReadOnlyMany"})," when user doesn`t specif the access mode. If there is a need to modify the default access mode, you need to specify it in spec.accessModes[] before creating it."]}),"\n",(0,n.jsx)(t.p,{children:"The currently supported access modes are\uff1a"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"ReadOnlyMany"})," : the volume can be mounted as read-only by many nodes"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"ReadWriteMany"})," : the volume can be mounted as read-write by many nodes"]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,n.jsx)(t.p,{children:"This example sets the access method of the dataset to ReadWriteMany."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:'apiVersion: data.fluid.io/v1alpha1\nkind: Dataset\nmetadata:\n  name: demo\nspec:\n  mounts:\n    - mountPoint: https://mirrors.bit.edu.cn/apache/hbase/2.4.14/\n      name: hbase\n      path: "/"\n  accessModes:\n    - ReadWriteMany\n'})})]})}function u(e={}){const{wrapper:t}={...(0,a.M)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},2172:(e,t,s)=>{s.d(t,{I:()=>d,M:()=>i});var n=s(1504);const a={},o=n.createContext(a);function i(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);