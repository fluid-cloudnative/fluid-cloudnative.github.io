<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-troubleshooting-and-faq/faq" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">FAQ | Fluid</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://fluid-cloudnative.github.io/zh/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://fluid-cloudnative.github.io/zh/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://fluid-cloudnative.github.io/zh/docs/next/troubleshooting-and-faq/faq"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="FAQ | Fluid"><meta data-rh="true" name="description" content="1. Why do I fail to install fluid with Helm?"><meta data-rh="true" property="og:description" content="1. Why do I fail to install fluid with Helm?"><link data-rh="true" rel="icon" href="/zh/img/fluid-icon-color.png"><link data-rh="true" rel="canonical" href="https://fluid-cloudnative.github.io/zh/docs/next/troubleshooting-and-faq/faq"><link data-rh="true" rel="alternate" href="https://fluid-cloudnative.github.io/docs/next/troubleshooting-and-faq/faq" hreflang="en"><link data-rh="true" rel="alternate" href="https://fluid-cloudnative.github.io/zh/docs/next/troubleshooting-and-faq/faq" hreflang="zh"><link data-rh="true" rel="alternate" href="https://fluid-cloudnative.github.io/docs/next/troubleshooting-and-faq/faq" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://LFPGLLH528-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="Fluid RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="Fluid Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Fluid" href="/zh/opensearch.xml"><link rel="stylesheet" href="/zh/assets/css/styles.8e3a1f9d.css">
<script src="/zh/assets/js/runtime~main.8efdc8ce.js" defer="defer"></script>
<script src="/zh/assets/js/main.0cbb1e2e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/fluid-horizontal-color.png" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/zh/img/fluid-horizontal-white.png" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/docs/next">文档</a><a class="navbar__item navbar__link" href="/zh/blog">博客</a><a class="navbar__item navbar__link" sidebarid="communitySidebar" href="/zh/community/meeting_schedule">社区</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/zh/docs/next">Latest</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh/docs/next/troubleshooting-and-faq/faq">Latest</a></li><li><a class="dropdown__link" href="/zh/docs/troubleshooting-and-faq/faq">v1.0.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/docs/next/troubleshooting-and-faq/faq" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/docs/next/troubleshooting-and-faq/faq" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">简体中文</a></li></ul></div><a href="https://github.com/fluid-cloudnative/fluid" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/docs/next">核 心概念</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/docs/next/get-started/quick-start">Get Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/docs/next/demos/demo-accelerate-remote-file-accessing-with-fluid">Demos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/docs/next/tutorials/dataset-creation/accelerate-data-accessing-posix">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/docs/next/operation-guide/runtime-monitoring">Operation Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/docs/next/developer-guide/how-to-develop">Developer Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/docs/next/case-study/alibaba-case-study">Case Study</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh/docs/next/troubleshooting-and-faq/troubleshooting">Troubleshooting and FAQ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/next/troubleshooting-and-faq/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/docs/next/troubleshooting-and-faq/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/docs/next/release-and-API-doc/release">Release and API Doc</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>此为 <!-- -->Fluid<!-- --> <b>Latest</b> 版尚未发行的文档。</div><div class="margin-top--md">最新的文档请参阅 <b><a href="/zh/docs/troubleshooting-and-faq/faq">最新版本</a></b> (<!-- -->v1.0.0<!-- -->)。</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Troubleshooting and FAQ</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">FAQ</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：Latest</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>FAQ</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-why-do-i-fail-to-install-fluid-with-helm">1. Why do I fail to install fluid with Helm?<a href="#1-why-do-i-fail-to-install-fluid-with-helm" class="hash-link" aria-label="1. Why do I fail to install fluid with Helm?的直接链接" title="1. Why do I fail to install fluid with Helm?的直接链接">​</a></h2>
<p><strong>Answer</strong>: It is recommended to follow the <a href="/zh/docs/get-started/installation">Fluid installation document</a> to confirm whether the Fluid components are operating normally.</p>
<p>The Fluid installation document is deployed based on <code>Helm 3</code> as an example. If you use a version below <code>Helm 3</code> to deploy Fluid and encounter the situation of <code>CRD not starting normally</code>. This may be because <code>Helm 3</code> and above versions will automatically install CRD during <code>helm install</code> but the lower version of Helm will not. See the <a href="https://helm.sh/docs/chart_best_practices/custom_resource_definitions/" target="_blank" rel="noopener noreferrer">Helm official documentation</a>.</p>
<p>In this case, you need to install CRD manually:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create -f fluid/crds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-why-cant-i-delete-runtime">2. Why can&#x27;t I delete Runtime?<a href="#2-why-cant-i-delete-runtime" class="hash-link" aria-label="2. Why can&#x27;t I delete Runtime?的直接链接" title="2. Why can&#x27;t I delete Runtime?的直接链接">​</a></h2>
<p><strong>Answer</strong>: Please check the related Pod running status and Runtime Events.</p>
<p>As long as any active Pod is still using the Volume created by Fluid, Fluid will not complete the delete operation.</p>
<p>The following commands can quickly find these active Pods. When using it, replace <code>&lt;dataset_name&gt;</code> and <code>&lt;dataset_namespace&gt;</code> with yours:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe pvc &lt;dataset_name&gt; -n &lt;dataset_namespace&gt; | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	awk &#x27;/^Mounted/ {flag=1}; /^Events/ {flag=0}; flag&#x27; | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	awk &#x27;NR==1 {print $3}; NR!=1 {print $1}&#x27; | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	xargs -I {} kubectl get po {} | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	grep -E &quot;Running|Terminating|Pending&quot; | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	cut -d &quot; &quot; -f 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3why-do-i-run-the-example-speed-up-accessing-remote-files-and-i-will-encounter-an-inputoutput-error-when-copying-files-for-the-first-time-similar-to-the-following">3.Why do I run the example <a href="/zh/docs/tutorials/dataset-creation/accelerate-data-accessing-posix">Speed up Accessing Remote Files</a>, and I will encounter an input/output error when copying files for the first time. Similar to the following<a href="#3why-do-i-run-the-example-speed-up-accessing-remote-files-and-i-will-encounter-an-inputoutput-error-when-copying-files-for-the-first-time-similar-to-the-following" class="hash-link" aria-label="3why-do-i-run-the-example-speed-up-accessing-remote-files-and-i-will-encounter-an-inputoutput-error-when-copying-files-for-the-first-time-similar-to-the-following的直接链接" title="3why-do-i-run-the-example-speed-up-accessing-remote-files-and-i-will-encounter-an-inputoutput-error-when-copying-files-for-the-first-time-similar-to-the-following的直接链接">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">time cp ./pyspark-2.4.6.tar.gz /tmp/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp: error reading ‘./pyspark-2.4.6.tar.gz’: Input/output error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp: failed to extend ‘/tmp/pyspark-2.4.6.tar.gz’: Input/output error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">real	3m15.795s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user	0m0.001s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sys	0m0.092s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>What caused this to happen?</p>
<p><strong>Answer</strong>: The purpose of this example is to allow users to use the existing mirror download address of Apache software based on HTTP protocol to demonstrate the ability of data copy acceleration without building UFS (underlayer file system). However, in actual scenarios, the implementation of WebUFS is generally not used. But there are three limitations in this example：</p>
<ol>
<li>
<p>Availability and access speed of Apache software mirror download address.</p>
</li>
<li>
<p>WebUFS is derived from Alluxio&#x27;s community contribution and it is not the optimal implementation. For example, the implementation is not based on offset-based breakpoint resuming, which leads to the need to trigger WebUFS to read a large number of data blocks for each remote read operation.</p>
</li>
<li>
<p>Since the copy behavior is implemented based on Fuse, the upper limit of each Fuse chunk read is 128KB under the Linux Kernel; The larger the file is, the first copy will trigger a large number of reading operations.</p>
</li>
</ol>
<p>In response to this problem, we proposed an optimized solution:</p>
<ol>
<li>When configuring read, set the block size and chunk size to be larger than the file size, so as to avoid the influence of frequent reading in Fuse implementation.</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">alluxio.user.block.size.bytes.default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 256MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">alluxio.user.streaming.reader.chunk.size.bytes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 256MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">alluxio.user.local.reader.chunk.size.bytes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 256MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">alluxio.worker.network.reader.buffer.size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 256MB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>In order to ensure that the target file can be downloaded successfully, the timeout of the block download can be adjusted. The timeout period in the example is 5 minutes. If your network condition is not good, you can set a longer time as appropriate.</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">alluxio.user.streaming.data.timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 300sec</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>You can try to load the file manually.</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -it hbase-master-0 bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time alluxio fs  distributedLoad --replication 1 /</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-why-does-the-driver-name-fusecsifluidio-not-found-in-the-list-of-registered-csi-drivers-error-appear-when-i-create-a-task-to-mount-the-pvc-created-by-runtime">4. Why does the <code>driver name fuse.csi.fluid.io not found in the list of registered CSI drivers</code> error appear when I create a task to mount the PVC created by Runtime?<a href="#4-why-does-the-driver-name-fusecsifluidio-not-found-in-the-list-of-registered-csi-drivers-error-appear-when-i-create-a-task-to-mount-the-pvc-created-by-runtime" class="hash-link" aria-label="4-why-does-the-driver-name-fusecsifluidio-not-found-in-the-list-of-registered-csi-drivers-error-appear-when-i-create-a-task-to-mount-the-pvc-created-by-runtime的直接链接" title="4-why-does-the-driver-name-fusecsifluidio-not-found-in-the-list-of-registered-csi-drivers-error-appear-when-i-create-a-task-to-mount-the-pvc-created-by-runtime的直接链接">​</a></h2>
<p><strong>Answer</strong>: Please check whether the kubelet configuration of the node on which the task is scheduled is the default value <code>/var/lib/kubelet</code>.</p>
<p>First, Please on the work node of Kubernetes execute <code>ps -ef | grep kubelet | grep -i root-dir</code>,Check whether Kubernetes&#x27;s root-dir, If not <code>/var/lib/kubelet</code>, Please Modify <code>fluid/values.yaml</code>,</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">csi</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">plugins</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fluidcloudnative/fluid</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">csi</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">v0.8.0</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">e7cc7ce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kubelet</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rootDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> you kubelet root dir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>run again <code>helm uninstall fluid &amp;&amp; heml install fluid [/opt/fluid]</code>， Check whether it is normal.</p>
<p>Second, check whether Fluid&#x27;s CSI component is normal using the command.</p>
<p>The following command can find the Pod quickly. When using it, replace the <code>&lt;node_name&gt;</code> and <code>&lt;fluid_namespace&gt;</code> with yours:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pod -n &lt;fluid_namespace&gt; -o wide | grep &lt;node_name&gt; | grep csi-nodeplugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># &lt;pod_name&gt; the pod name of last step</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl logs -f &lt;pod_name&gt; node-driver-registrar -n &lt;fluid_namespace&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl logs -f &lt;pod_name&gt; plugins -n &lt;fluid_namespace&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If there is no error in the Log of the above steps, check whether the csidriver object exists:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get csidriver</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the CSI driver object exists, please check if the CSI registered node contains <code>&lt;node_name&gt;</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get csinode | grep &lt;node_name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码  到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the above command has no output, check whether the kubelet configuration of the node on which the task is scheduled is the default value <code>/var/lib/kubelet</code>. Because Fluid&#x27;s CSI component is registered to kubelet through a fixed address socket, the default value is <code>--csi-address=/var/lib/kubelet/csi-plugins/fuse.csi.fluid.io/csi.sock --kubelet-registration-path=/var/lib/kubelet/csi-plugins/fuse.csi.fluid.io/csi.sock</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-after-upgrading-fluid-why-does-the-dataset-created-in-the-older-version-miss-some-fields-compared-to-a-newly-created-dataset-when-querying-them-via-kubectl-get-command">5. After upgrading fluid, why does the dataset created in the older version miss some fields compared to a newly created dataset, when querying them via <code>kubectl get</code> command？<a href="#5-after-upgrading-fluid-why-does-the-dataset-created-in-the-older-version-miss-some-fields-compared-to-a-newly-created-dataset-when-querying-them-via-kubectl-get-command" class="hash-link" aria-label="5-after-upgrading-fluid-why-does-the-dataset-created-in-the-older-version-miss-some-fields-compared-to-a-newly-created-dataset-when-querying-them-via-kubectl-get-command的直接链接" title="5-after-upgrading-fluid-why-does-the-dataset-created-in-the-older-version-miss-some-fields-compared-to-a-newly-created-dataset-when-querying-them-via-kubectl-get-command的直接链接">​</a></h2>
<p><strong>Answer</strong>: During the upgrading, we may have upgraded the CRDs. The dataset created in the older version will set the new fields in the CRDs to null
For example, if you upgrade from v0.4 or before, the dataset did not have a &#x27;FileNum&#x27; field at that time
After upgrading fluid, if you use the <code>kubectl get</code> command, you cannot query the FileNum of the dataset</p>
<p>You can recreate the dataset, and the new dataset will display these fields normally</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-why-do-i-run-the-example-nonroot-access-and-i--encounter-mkdir-permission-denied-error">6. Why do I run the example <a href="/zh/docs/tutorials/dataset-security/using-fluid-to-access-non-root-users-data">Nonroot access</a>, and I  encounter mkdir permission denied error<a href="#6-why-do-i-run-the-example-nonroot-access-and-i--encounter-mkdir-permission-denied-error" class="hash-link" aria-label="6-why-do-i-run-the-example-nonroot-access-and-i--encounter-mkdir-permission-denied-error的直接链接" title="6-why-do-i-run-the-example-nonroot-access-and-i--encounter-mkdir-permission-denied-error的直接链接">​</a></h2>
<p><strong>Answer</strong>: In the non-root scenario, you have to check if you pass the right user info to runtime first. Secondly, you should check the alluxio master pod status, and use journalctl to see the kubelet logs in the node of alluxio master pod. The mkdir error was caused when mounting the hostpath to the container and therefore we have to check the root has the right permission to exec the directory. For example in the below root have permission to operator /dir</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stat /dir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  File: ‘/dir’</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Size: 32              Blocks: 0          IO Block: 4096   directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Device: fd00h/64768d    Inode: 83          Links: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access: (0755/drwxr-xr-x)  Uid: (    0/    root)   Gid: (    0/    root)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access: 2021-04-14 23:35:47.928805350 +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Modify: 2021-01-19 00:16:21.539559082 +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Change: 2021-01-19 00:16:21.539559082 +0800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Birth: -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-why-does-volume-attachment-timeout-occur-when-pvc-is-used-in-an-application">7. Why does Volume Attachment timeout occur when PVC is used in an application?<a href="#7-why-does-volume-attachment-timeout-occur-when-pvc-is-used-in-an-application" class="hash-link" aria-label="7. Why does Volume Attachment timeout occur when PVC is used in an application?的直接链接" title="7. Why does Volume Attachment timeout occur when PVC is used in an application?的直接链接">​</a></h2>
<p><strong>Answer</strong>: The Volume Attachment timeout problem is caused by the Kubelet not
receiving a response from the CSI Driver when making a request to it.
This problem is caused by the fact that the CSI Driver is not installed, or Kubelet does not have permission to access the CSI Driver.
Since the CSI Driver is called back by Kubelet, if the CSI Driver is not installed or Kubelet does not have permission to view the CSI Driver, the CSI Plugin will not be triggered correctly.</p>
<p>First, you must use the command <code>kubectl get csidriver</code> to check whether the CSI driver is installed.
If not, you should use the command <code>kubectl apply -f charts/fluid/fluid/templates/CSI/driver.yaml</code> to install it, and then observe whether the PVC is successfully mounted into the application.
If it is not solved, you shall use the command <code>export KUBECONFIG=/etc/kubernetes/kubelet.conf &amp;&amp; kubectl get csidriver</code> to check Kubelet whether has permission to see the CSI Driver or not.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-after-creating-dataset-and-alluxioruntime-when-does-alluxio-master-pod-enter-into-the-crashloopbackoff-state">8. After creating Dataset and AlluxioRuntime, When does alluxio master Pod enter into the CrashLoopBackOff state?<a href="#8-after-creating-dataset-and-alluxioruntime-when-does-alluxio-master-pod-enter-into-the-crashloopbackoff-state" class="hash-link" aria-label="8. After creating Dataset and AlluxioRuntime, When does alluxio master Pod enter into the CrashLoopBackOff state?的直接链接" title="8. After creating Dataset and AlluxioRuntime, When does alluxio master Pod enter into the CrashLoopBackOff state?的直接链接">​</a></h2>
<p><strong>Answer</strong>: First, use the command <code>kubectl describe pod &lt;dataset_name&gt;-master-0</code> to query the reason why did Pod exit by mistake.</p>
<p>Alluxio master Pod consists of two containers, alluxio-master, and alluxio-job-master. If one of the containers exits by mistake, you should view the output log before it exits.</p>
<p>For example, alluxio-job-master printed the following logs before exiting:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl logs imagenet-master-0  -c alluxio-job-master -p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-06-08 12:03:47,611 INFO  MetricsSystem - Starting sinks with config: {}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-06-08 12:03:47,616 INFO  MetricsHeartbeatContext - Created metrics heartbeat with ID app-1642528563209467270. This ID will be used for identifying info from the client. It can be set manually through the alluxio.user.app.id property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-06-08 12:03:47,656 INFO  TieredIdentityFactory - Initialized tiered identity TieredIdentity(node=132.252.41.86, rack=null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-06-08 12:03:47,697 INFO  ExtensionFactoryRegistry - Loading core jars from /opt/alluxio-release-2.5.0-2-SNAPSHOT/lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-06-08 12:03:47,784 INFO  ExtensionFactoryRegistry - Loading extension jars from /opt/alluxio-release-2.5.0-2-SNAPSHOT/extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-06-08 12:03:50,767 ERROR AlluxioJobMasterProcess - java.net.UnknownHostException: jfk8snode43: jfk8snode43: Temporary failure in name resolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">java.lang.RuntimeException: java.net.UnknownHostException: jfk8snode43: jfk8snode43: Temporary failure in name resolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.util.network.NetworkAddressUtils.getLocalIpAddress(NetworkAddressUtils.java:514)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.util.network.NetworkAddressUtils.getLocalHostName(NetworkAddressUtils.java:436)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.util.network.NetworkAddressUtils.getConnectHost(NetworkAddressUtils.java:313)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.underfs.JobUfsManager.connectUfs(JobUfsManager.java:55)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.underfs.AbstractUfsManager.getOrAdd(AbstractUfsManager.java:150)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.underfs.AbstractUfsManager.lambda$addMount$0(AbstractUfsManager.java:171)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.underfs.UfsManager$UfsClient.acquireUfsResource(UfsManager.java:61)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.journal.ufs.UfsJournal.&lt;init&gt;(UfsJournal.java:150)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.journal.ufs.UfsJournalSystem.createJournal(UfsJournalSystem.java:83)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.journal.ufs.UfsJournalSystem.createJournal(UfsJournalSystem.java:53)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.AbstractMaster.&lt;init&gt;(AbstractMaster.java:73)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.job.JobMaster.&lt;init&gt;(JobMaster.java:157)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.AlluxioJobMasterProcess.&lt;init&gt;(AlluxioJobMasterProcess.java:92)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.AlluxioJobMasterProcess$Factory.create(AlluxioJobMasterProcess.java:269)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.AlluxioJobMaster.main(AlluxioJobMaster.java:45)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Caused by: java.net.UnknownHostException: jfk8snode43: jfk8snode43: Temporary failure in name resolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at java.net.InetAddress.getLocalHost(InetAddress.java:1506)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.util.network.NetworkAddressUtils.getLocalIpAddress(NetworkAddressUtils.java:472)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ... 14 more</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Caused by: java.net.UnknownHostException: jfk8snode43: Temporary failure in name resolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:929)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1324)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at java.net.InetAddress.getLocalHost(InetAddress.java:1501)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ... 15 more</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-06-08 12:03:50,773 ERROR AlluxioJobMaster - Failed to create job master process</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">java.lang.RuntimeException: java.net.UnknownHostException: jfk8snode43: jfk8snode43: Temporary failure in name resolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.util.network.NetworkAddressUtils.getLocalIpAddress(NetworkAddressUtils.java:514)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.util.network.NetworkAddressUtils.getLocalHostName(NetworkAddressUtils.java:436)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.util.network.NetworkAddressUtils.getConnectHost(NetworkAddressUtils.java:313)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.underfs.JobUfsManager.connectUfs(JobUfsManager.java:55)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.underfs.AbstractUfsManager.getOrAdd(AbstractUfsManager.java:150)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.underfs.AbstractUfsManager.lambda$addMount$0(AbstractUfsManager.java:171)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.underfs.UfsManager$UfsClient.acquireUfsResource(UfsManager.java:61)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.journal.ufs.UfsJournal.&lt;init&gt;(UfsJournal.java:150)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.journal.ufs.UfsJournalSystem.createJournal(UfsJournalSystem.java:83)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.journal.ufs.UfsJournalSystem.createJournal(UfsJournalSystem.java:53)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.AbstractMaster.&lt;init&gt;(AbstractMaster.java:73)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.job.JobMaster.&lt;init&gt;(JobMaster.java:157)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.AlluxioJobMasterProcess.&lt;init&gt;(AlluxioJobMasterProcess.java:92)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.AlluxioJobMasterProcess$Factory.create(AlluxioJobMasterProcess.java:269)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.master.AlluxioJobMaster.main(AlluxioJobMaster.java:45)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Caused by: java.net.UnknownHostException: jfk8snode43: jfk8snode43: Temporary failure in name resolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at java.net.InetAddress.getLocalHost(InetAddress.java:1506)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at alluxio.util.network.NetworkAddressUtils.getLocalIpAddress(NetworkAddressUtils.java:472)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ... 14 more</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Caused by: java.net.UnknownHostException: jfk8snode43: Temporary failure in name resolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:929)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1324)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at java.net.InetAddress.getLocalHost(InetAddress.java:1501)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ... 15 more</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-06-08 12:03:50,917 INFO  NettyUtils - EPOLL_MODE is available</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-06-08 12:03:51,319 WARN  MetricsHeartbeatContext - Failed to heartbeat to the metrics master before exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This error is generally due to the host where aluxio master Pod is located, does not configure the mapping relationship between the hostname and IP in DNS server or <code>/etc/hosts</code> file, resulting in the failure of aluxio-job-master to resolve the host name.</p>
<p>At this time, you need to log in to the host where aluxio master Pod is located, execute the command <code>hostname</code> to query the hostname, and write its mapping relationship with IP to the <code>/etc/hosts</code> file.</p>
<p>You can search in the issue of this project to find solutions to the error information you encounter. If there is no issue that can solve your problem, you can also propose a new issue.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/fluid-cloudnative/fluid-cloudnative.github.io/tree/master/docs/troubleshooting-and-faq/faq.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->由 <b>chenqiming</b> <!-- -->于 <b><time datetime="2024-04-08T07:32:52.000Z">2024年4月8日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/docs/next/troubleshooting-and-faq/troubleshooting"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Troubleshooting</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/docs/next/release-and-API-doc/release"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Release</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-why-do-i-fail-to-install-fluid-with-helm" class="table-of-contents__link toc-highlight">1. Why do I fail to install fluid with Helm?</a></li><li><a href="#2-why-cant-i-delete-runtime" class="table-of-contents__link toc-highlight">2. Why can&#39;t I delete Runtime?</a></li><li><a href="#3why-do-i-run-the-example-speed-up-accessing-remote-files-and-i-will-encounter-an-inputoutput-error-when-copying-files-for-the-first-time-similar-to-the-following" class="table-of-contents__link toc-highlight">3.Why do I run the example Speed up Accessing Remote Files, and I will encounter an input/output error when copying files for the first time. Similar to the following</a></li><li><a href="#4-why-does-the-driver-name-fusecsifluidio-not-found-in-the-list-of-registered-csi-drivers-error-appear-when-i-create-a-task-to-mount-the-pvc-created-by-runtime" class="table-of-contents__link toc-highlight">4. Why does the <code>driver name fuse.csi.fluid.io not found in the list of registered CSI drivers</code> error appear when I create a task to mount the PVC created by Runtime?</a></li><li><a href="#5-after-upgrading-fluid-why-does-the-dataset-created-in-the-older-version-miss-some-fields-compared-to-a-newly-created-dataset-when-querying-them-via-kubectl-get-command" class="table-of-contents__link toc-highlight">5. After upgrading fluid, why does the dataset created in the older version miss some fields compared to a newly created dataset, when querying them via <code>kubectl get</code> command？</a></li><li><a href="#6-why-do-i-run-the-example-nonroot-access-and-i--encounter-mkdir-permission-denied-error" class="table-of-contents__link toc-highlight">6. Why do I run the example Nonroot access, and I  encounter mkdir permission denied error</a></li><li><a href="#7-why-does-volume-attachment-timeout-occur-when-pvc-is-used-in-an-application" class="table-of-contents__link toc-highlight">7. Why does Volume Attachment timeout occur when PVC is used in an application?</a></li><li><a href="#8-after-creating-dataset-and-alluxioruntime-when-does-alluxio-master-pod-enter-into-the-crashloopbackoff-state" class="table-of-contents__link toc-highlight">8. After creating Dataset and AlluxioRuntime, When does alluxio master Pod enter into the CrashLoopBackOff state?</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh/docs">教程</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://app.slack.com/client/T08PSQ7BQ/C02ADG209SP" target="_blank" rel="noopener noreferrer" class="footer__link-item">CNCF Slack (#fluid channel)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/zh/community/meeting_schedule">钉钉群 (群号: 32850151)</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/community/meeting_schedule">周会</a></li><li class="footer__item"><a href="https://github.com/fluid-cloudnative/fluid/blob/master/README.md#community" target="_blank" rel="noopener noreferrer" class="footer__link-item">微信群<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/fluid-cloudnative/fluid" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 The Fluid Authors. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our Trademark Usage page: https://www.linuxfoundation.org/trademark-usage</div></div></div></footer></div>
</body>
</html>