(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{429:function(a,e,s){"use strict";s.r(e);var t=s(19),n=Object(t.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"fluid问题诊断"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fluid问题诊断"}},[a._v("#")]),a._v(" Fluid问题诊断")]),a._v(" "),e("p",[a._v("您可能会在部署、开发Fluid的过程中遇到各种问题，而查看日志可以协助我们定位问题原因。但在分布式环境下，Fluid底层的分布式缓存引擎（Runtime）运行在不同主机的容器上，手动收集这些容器的日志效率低下。因此，Fluid提供了shell脚本"),e("a",{attrs:{href:"https://raw.githubusercontent.com/fluid-cloudnative/fluid/master/tools/diagnose-fluid.sh",target:"_blank",rel:"noopener noreferrer"}},[a._v("diagnose-fluid.sh"),e("OutboundLink")],1),a._v("，帮助使用者快速收集Fluid系统和Runtime容器的日志信息。")]),a._v(" "),e("h2",{attrs:{id:"如何使用脚本收集日志"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何使用脚本收集日志"}},[a._v("#")]),a._v(" 如何使用脚本收集日志")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("首先，确保shell脚本有运行权限")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" a+x diagnose-fluid.sh\n")])])])]),a._v(" "),e("li",[e("p",[a._v("查看帮助信息")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ ./diagnose-fluid.sh \nUsage:\n    ./diagnose-fluid.sh COMMAND "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nCOMMAND:\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("help")]),a._v("\n        Display this "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("help")]),a._v(" message.\n    collect\n        Collect pods logs of controller and runtime.\nOPTIONS:\n    -r, "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" name\n        Set the name of runtime.\n    -n, "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--namespace")]),a._v(" name\n        Set the namespace of runtime.\n")])])])]),a._v(" "),e("li",[e("p",[a._v("收集日志")]),a._v(" "),e("p",[a._v("运行"),e("code",[a._v("diagnose-fluid.sh")]),a._v("，"),e("code",[a._v("--name")]),a._v("指定了Runtime的name，"),e("code",[a._v("--namespace")]),a._v("指定了Runtime的namespace")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ ./diagnose-fluid.sh collect "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" cifar10 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--namespace")]),a._v(" default\n")])])]),e("p",[a._v("shell脚本会将收集的日志信息打包到执行路径下的一个压缩包里。")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);