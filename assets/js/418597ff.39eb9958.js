"use strict";(self.webpackChunkfluid_website_demo=self.webpackChunkfluid_website_demo||[]).push([[1624],{6980:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>d,toc:()=>a});var i=s(7624),t=s(2172);const o={sidebar_label:"Troubleshooting",sidebar_position:1},l="Troubleshooting",d={id:"troubleshooting-and-faq/troubleshooting",title:"Troubleshooting",description:"You may encounter various problems during installation or development in Fluid. Usually, logs are useful for debugging. But the Runtime containers where Fluid's underlying Distributed Cache Engine is running, are distributed on different hosts under distributed environment, so it's quite annoying to collect these logs one by one.",source:"@site/docs/troubleshooting-and-faq/troubleshooting.md",sourceDirName:"troubleshooting-and-faq",slug:"/troubleshooting-and-faq/troubleshooting",permalink:"/docs/troubleshooting-and-faq/troubleshooting",draft:!1,unlisted:!1,editUrl:"https://github.com/fluid-cloudnative/fluid-cloudnative.github.io/tree/master/docs/troubleshooting-and-faq/troubleshooting.md",tags:[],version:"current",lastUpdatedBy:"chenqiming",lastUpdatedAt:1712561572,formattedLastUpdatedAt:"Apr 8, 2024",sidebarPosition:1,frontMatter:{sidebar_label:"Troubleshooting",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Alibaba's Case Study",permalink:"/docs/case-study/alibaba-case-study"},next:{title:"FAQ",permalink:"/docs/troubleshooting-and-faq/faq"}},r={},a=[{value:"Diagnose Fluid using Script",id:"diagnose-fluid-using-script",level:2}];function u(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.p,{children:"You may encounter various problems during installation or development in Fluid. Usually, logs are useful for debugging. But the Runtime containers where Fluid's underlying Distributed Cache Engine is running, are distributed on different hosts under distributed environment, so it's quite annoying to collect these logs one by one.\nTo make this troublesome work easier, we provided a shell script to help users collect logs more quickly. This document describes how to use that script."}),"\n",(0,i.jsx)(n.p,{children:"Alluxio:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"wget https://raw.githubusercontent.com/fluid-cloudnative/fluid/master/tools/diagnose-fluid-alluxio.sh"})}),"\n",(0,i.jsx)(n.p,{children:"JuiceFS:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"wget https://raw.githubusercontent.com/fluid-cloudnative/fluid/master/tools/diagnose-fluid-juicefs.sh"})}),"\n",(0,i.jsx)(n.p,{children:"GooseFS:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"wget https://raw.githubusercontent.com/fluid-cloudnative/fluid/master/tools/diagnose-fluid-goosefs.sh"})}),"\n",(0,i.jsx)(n.p,{children:"JindoFS:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"wget https://raw.githubusercontent.com/fluid-cloudnative/fluid/master/tools/diagnose-fluid-jindo.sh"})}),"\n",(0,i.jsx)(n.h2,{id:"diagnose-fluid-using-script",children:"Diagnose Fluid using Script"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Fluid provides different diagnostic scripts for different Runtimes, but the usage is the same. You can download the runtime diagnostic scripts you use:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# Alluxio:\nwget https://raw.githubusercontent.com/fluid-cloudnative/fluid/master/tools/diagnose-fluid-alluxio.sh\n# JuiceFS:\nwget https://raw.githubusercontent.com/fluid-cloudnative/fluid/master/tools/diagnose-fluid-juicefs.sh\n# GooseFS:\nwget https://raw.githubusercontent.com/fluid-cloudnative/fluid/master/tools/diagnose-fluid-goosefs.sh\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Make sure that script is executable, take ",(0,i.jsx)(n.code,{children:"diagnose-fluid-alluxio.sh"})," as an example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"$ chmod a+x diagnose-fluid-alluxio.sh\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Get help message"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"$ ./diagnose-fluid-alluxio.sh\nUsage:\n    ./diagnose-fluid-alluxio.sh COMMAND [OPTIONS]\nCOMMAND:\n    help\n        Display this help message.\n    collect\n        Collect pods logs of controller and runtime.\nOPTIONS:\n    -r, --name name\n        Set the name of runtime.\n    -n, --namespace name\n        Set the namespace of runtime.\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Collect logs"}),"\n",(0,i.jsx)(n.p,{children:"You can collect all the Runtime container logs for given name and namespace with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"$ ./diagnose-fluid-alluxio.sh collect --name cifar10 --namespace default\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"NOTES"}),":"]}),"\n",(0,i.jsxs)(n.p,{children:["As you can see from above command and help message, option ",(0,i.jsx)(n.code,{children:"--name"})," and ",(0,i.jsx)(n.code,{children:"--namespace"})," specified the name and namespace of Alluxio Runtime respectively."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"All the logs will be packed in a package under execution path."}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,t.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},2172:(e,n,s)=>{s.d(n,{I:()=>d,M:()=>l});var i=s(1504);const t={},o=i.createContext(t);function l(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);