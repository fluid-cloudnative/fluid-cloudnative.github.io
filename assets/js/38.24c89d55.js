(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{397:function(a,t,s){"use strict";s.r(t);var e=s(19),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"demo-speed-up-accessing-minio-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#demo-speed-up-accessing-minio-files"}},[a._v("#")]),a._v(" DEMO - Speed Up Accessing Minio Files")]),a._v(" "),t("p",[a._v("Start a standalone Minio locally as a remote S3 service. This example is for demonstration purposes only, not production")]),a._v(" "),t("h3",{attrs:{id:"start-minio-demo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-minio-demo"}},[a._v("#")]),a._v(" start minio demo")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ti")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9000")]),a._v(":9000 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" minio minio/minio server /data\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Endpoint: http://172.17.0.8:9000  http://127.0.0.1:9000 \nRootUser: minioadmin \nRootPass: minioadmin \n\nBrowser Access:\n   http://172.17.0.8:9000  http://127.0.0.1:9000\n\nCommand-line Access: https://docs.min.io/docs/minio-client-quickstart-guide\n   $ mc alias set myminio http://172.17.0.8:9000 minioadmin minioadmin\n\nObject API (Amazon S3 compatible):\n   Go:         https://docs.min.io/docs/golang-client-quickstart-guide\n   Java:       https://docs.min.io/docs/java-client-quickstart-guide\n   Python:     https://docs.min.io/docs/python-client-quickstart-guide\n   JavaScript: https://docs.min.io/docs/javascript-client-quickstart-guide\n   .NET:       https://docs.min.io/docs/dotnet-client-quickstart-guide\nDetected default credentials 'minioadmin:minioadmin', please change the credentials immediately using 'MINIO_ROOT_USER' and 'MINIO_ROOT_PASSWORD'\nIAM initialization complete\n")])])]),t("h3",{attrs:{id:"mock-minio-data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mock-minio-data"}},[a._v("#")]),a._v(" mock minio data")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# create a new bucket")]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mc")]),a._v(" mb myminio/fluid\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# there are some PDFs in my local folder fluid")]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mc")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" fluid/* myminio/fluid/\n")])])]),t("h3",{attrs:{id:"dataset-yaml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dataset-yaml"}},[a._v("#")]),a._v(" dataset.yaml")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" data.fluid.io/v1alpha1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Dataset\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" demo\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("mounts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("mountPoint")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" s3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//spark/fluid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("data\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" spark\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("options")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("alluxio.underfs.s3.endpoint")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("$demo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("minio"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("addr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9000")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("alluxio.underfs.s3.disable.dns.buckets")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"true"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("alluxio.underfs.s3.inherit.acl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"false"')]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("encryptOptions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" aws.accessKeyId\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("valueFrom")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("secretKeyRef")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" mysecret\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("key")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" aws.accessKeyId\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" aws.secretKey\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("valueFrom")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("secretKeyRef")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" mysecret\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("key")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" aws.secretKey\n")])])]),t("h3",{attrs:{id:"secret-yaml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#secret-yaml"}},[a._v("#")]),a._v(" secret.yaml")]),a._v(" "),t("p",[a._v("create minio accessKeyId and accessKey")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Secret\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" mysecret\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("stringData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("aws.accessKeyId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" minioadmin\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("aws.secretKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" minioadmin\n")])])]),t("h3",{attrs:{id:"runtime-yaml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#runtime-yaml"}},[a._v("#")]),a._v(" runtime.yaml")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" data.fluid.io/v1alpha1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" AlluxioRuntime\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" demo\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("replicas")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("tieredstore")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("levels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("mediumtype")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" MEM\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" /dev/shm\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("quota")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 20M\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("high")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0.95"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("low")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0.7"')]),a._v("\n")])])]),t("h3",{attrs:{id:"pod-yaml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pod-yaml"}},[a._v("#")]),a._v(" pod.yaml")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Pod\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" demo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("app\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("containers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" demo\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("latest\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumeMounts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("mountPath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" /data\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" demo\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" demo\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("persistentVolumeClaim")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("claimName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" demo\n")])])]),t("h3",{attrs:{id:"check-the-data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#check-the-data"}},[a._v("#")]),a._v(" check the data")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("$ k apply "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" dataset.yaml\n$ k apply "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" secret.yaml\n$ k apply "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" runtime.yaml\n$ k apply "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" pod.yaml\n$ k "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ti")]),a._v(" demo-app "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v(" \n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" /data\ndata-mesh-in-practice-how-europes-leading-online-platform-for-fashion-goes-beyond-the-data-lake-iteblog.com.pdf\ndata-science-across-data-sources-with-apache-arrow-iteblog.com.pdf\nfrom-hdfs-to-s3-migrate-pinterest-apache-spark-clusters-iteblog.com.pdf\nrunning-apache-spark-jobs-using-kubernetes-iteblog.com.pdf\nrunning-apache-spark-on-kubernetes-best-practices-and-pitfalls-iteblog.com.pdf\nscaling-data-and-ml-with-apache-spark-and-feast-iteblog.com.pdf\nusing-ai-to-support-proliferating-merchant-changes-iteblog.com.pdf\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);